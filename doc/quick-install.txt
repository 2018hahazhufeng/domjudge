DOMjudge Quick Installation Reference
-------------------------------------

NOTE: this document is not a replacement for the thorough INSTALL document,
but more a cheat-sheet for those who've already installed DOMjudge before
and need a few hints. When in doubt, always consult INSTALL.


External software:
- Install mysql-server and set root password for it.
- Install Apache, PHP and phpMyAdmin.
  [`apt-get install mysql-server apache php4 php4-mysql php4-cli phpmyadmin`]
- Make sure PHP works for the webserver and the commandline client, and
  that phpMyAdmin works.
- Install necessary compilers on the judger hosts.

DOMjudge:
- `cd etc; $EDITOR global.cfg; cd ..; make config`
- Make sure that all of the domjudge stuff is in the dir set
  as SYSTEM_ROOT, and from that dir:
- `make`
- `make install`
- Add etc/apache.conf to your Apache configuration, edit it,
  reload webserver.
- Check that the web interface works (/team, /public and /jury);
  make sure phpMyAdmin also still works.
- Access database with phpMyAdmin, add useful contest data.
- Start the necessary daemons, each in their own terminal:
  `cd submit; ./submitdaemon`         (needed for commandline submit)
  `cd submit; ./websubmitdaemon.php`  (needed for websubmit)

- Next, setup the auto judgers on separate hosts:
- `useradd -d /nonexistent -g nobody -M -n -s /bin/false domtest`
  (check specific options of useradd, since these vary per system)
- Start the judge daemon:
  `cd judge; ./judgedaemon.php`

- It should be done by now, submit the sources from the test-sources/
  dir and compare their results with what they claim should happen:
  `make check` and check all submissions in the jury webinterface.

- Optionally:
  - Install the submit client on the team workstations;
  - Generate one-time passwords for all the teams in the webinterface;
  - Further tighten the security of the system, e.g. by applying firewall
    rules.
  - Start the balloon notification daemon: `cd bin; ./balloons.php`
  - Setup the Java chroot environment to use Sun Java with chroot:
    `bin/make_chroot.sh <installdir> <architecture>`
    `$EDITOR judge/chroot-startstop.sh`
    and enable the chroot-startstop.sh script in etc/global.cfg.

$Id$
